class Solution {
    public int binarysearch(int[] a, int target,int low, int high)
    {
        int n=a.length;
        while(low<=high)
        {
            int mid = (low+high)/2;
            if(a[mid]==target)
            {
                return mid;
            }
            else if(a[mid]>target)
            {
                high = mid-1;
            }
            else if(a[mid]<target)
            {
                low = mid+1;
            }
        }
        return -1;
    }
    public int[] twoSum(int[] a, int target) {
        int n=a.length;
        int b[] = a.clone();
        Arrays.sort(b);
        int[] ans = new int[2];
        int t1=0,t2=0;
        for(int i=0; i<n; ++i)
        {
            t1 = i;
            int idx;
            if(target-b[i]>=b[i])
            {
                idx = binarysearch(b,target-b[i],i+1,n-1);
            }
            else
            {
                idx = binarysearch(b,target-b[i],0,i-1);
            }
            if(idx==-1)
            {
                continue;
            }
            else
            {
                t2 = idx;
                break;
            }
        }
        for(int i=0; i<n; ++i)
        {
            if(a[i]==b[t1])
            {
                ans[0] = i;
                break;
            }
        }
        for(int i=n-1; i>=0; --i)
        {
            if(a[i]==b[t2])
            {
                ans[1] = i;
                break;
            }
        }
        return ans;
    }
}
